!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash"),require("mobx"),require("prop-types"),require("react"),require("mobx-react")):"function"==typeof define&&define.amd?define(["lodash","mobx","prop-types","react","mobx-react"],t):"object"==typeof exports?exports["santa-renderer"]=t(require("lodash"),require("mobx"),require("prop-types"),require("react"),require("mobx-react")):e["santa-renderer"]=t(e.lodash,e.mobx,e["prop-types"],e.react,e["mobx-react"])}(this,function(e,t,r,a,n){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var a;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={components:{PROPERTY_TYPES:{COMPONENTS:"components",COMPONENT_TYPE:"componentType",CONNECTION_QUERY:"connectionQuery",DATA_QUERY:"dataQuery",PROPERTY_QUERY:"propertyQuery",DESIGN_QUERY:"designQuery",BEHAVIOR_QUERY:"behaviorQuery",ID:"id",LAYOUT:"layout",META_DATA:"metaData",MOBILE_HINTS_QUERY:"mobileHintsQuery",MODES:"modes",SKIN:"skin",STYLE_ID:"styleId",PARENT:"parent",TYPE:"type"}},data:{DATA_MAPS:{BEHAVIORS:"behaviors_data",CONNECTIONS:"connections_data",DATA:"document_data",DESIGN:"design_data",MOBILE_HINTS:"mobile_hints",PROPERTIES:"component_properties",STYLE:"theme_data"}}};o.QUERY_TO_MAP_NAME=(n(a={},o.components.PROPERTY_TYPES.BEHAVIOR_QUERY,o.data.DATA_MAPS.BEHAVIORS),n(a,o.components.PROPERTY_TYPES.CONNECTION_QUERY,o.data.DATA_MAPS.CONNECTIONS),n(a,o.components.PROPERTY_TYPES.DATA_QUERY,o.data.DATA_MAPS.DATA),n(a,o.components.PROPERTY_TYPES.DESIGN_QUERY,o.data.DATA_MAPS.DESIGN),n(a,o.components.PROPERTY_TYPES.PROPERTY_QUERY,o.data.DATA_MAPS.PROPERTIES),n(a,o.components.PROPERTY_TYPES.STYLE_ID,o.data.DATA_MAPS.STYLE),a);e.exports={EVENTS:{COMP_DATA_RUNTIME_CHANGE:"runtimeCompChange",REGISTER_COMPONENT:"registerComponentEvent"},pointers:o}},,function(e,t,r){"use strict";var a=r(0),n=r(1),o=function(e){return/(.*)_runtime_(.*)/.test(e)},i=function(){return a(n.pointers.data.DATA_MAPS).keyBy().mapValues(function(){return{}}).value()},s=function(){return{data:i(),behaviors:[]}};e.exports={createRuntime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.assign(s(),e)},createEmptyDataRuntime:i,createEmptyRuntime:s,isRuntimeId:o,getRuntimeId:function(e,t){return o(t)?t:e+"_runtime_"+t},getCompId:function(e){return function(e){return e.split("_runtime_")[0]}(e)},getQueryId:function(e){return function(e){return e.split("_runtime_")[1]}(e)}}},function(e,r){e.exports=t},function(e,t,r){"use strict";var a=r(0),n=r(1),o=n.pointers.data.DATA_MAPS,i=n.pointers.components.PROPERTY_TYPES,s=a.mapValues(o,function(e,t){return t}),u=a.invert(i),_=function(e){return function(t){return{id:t.replace("#",""),type:e}}};e.exports={components:{getComponent:_("COMPONENT"),getProperty:function(e,t){var r=u[t];if("COMPONENT"!==e.type||!r)throw new Error("pointer must be a component pointer or invalid property name");return{id:e.id,type:r}}},data:{getBehaviorsPointer:_(s.BEHAVIORS),getConnectionsPointer:_(s.CONNECTIONS),getDataPointer:_(s.DATA),getDesignPointer:_(s.DESIGN),getMobileHintsPointer:_(s.MOBILE_HINTS),getPropertiesPointer:_(s.PROPERTIES),getStylePointer:_(s.STYLE),getThemeDataPointer:function(){return _(s.STYLE)("THEME_DATA")}},getPath:function(e){var t=e.id,r=e.type;if("COMPONENT"===r)return["structure",t];var n=a.get(i,r);if(n)return["structure",t,n];var s=a.get(o,r);if(s)return["data",s,t];throw new Error("Invalid pointer type: "+r)}}},function(e,t){e.exports=r},function(e,t){e.exports=a},,,function(e,t,r){"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var n=r(0),o=r(4),i=r(11),s=r(12),u=r(5),_=r(13),c=r(14),p=r(15),l=r(1),d=r(3),m=l.pointers.data.DATA_MAPS,v=new WeakMap,h=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var l={structure:o.observable.shallowMap(),runtimeComponentActions:o.observable.map(),data:n(m).keyBy().mapValues(function(){return o.observable.shallowMap()}).value()};this.mobxModel=l;var h=d.createEmptyRuntime(),y=p.create(r,a,l),f=c(n.defaults({contextsMap:{},activeModes:{},runtime:h},t),y);this.carmiModel=f;var $=function(e){return l.structure.get(e)};this.pointers=u,this.displayedDAL=i.create(f),this.runtimeDAL=s.create(f,this.displayedDAL,a,r),this.getDataByQuery=function(e,t){return l.data[m[t]].get(e.replace("#",""))},this.getStructureProperty=function(e,t){var r=u.getPath(u.components.getProperty(u.components.getComponent(e),t));return n.get($(e),n.last(r))},v.set(this,{model:f,mobxModel:l,propsFetcher:_.create(n.defaults({getStructure:$},this))})}return a(e,[{key:"getFetcher",value:function(e){var t=v.get(this).propsFetcher;return n.get(t,e.id)}},{key:"updateActiveModes",value:function(e,t){v.get(this).model.updateActiveModes(e,t)}}]),e}();e.exports=h},function(e,t,r){"use strict";var a=r(0),n=r(5),o=r(1),i=function(e){return a.mapValues(o.pointers.data.DATA_MAPS,function(t){return function(t){return function(r,a){return e.updateDataItem(t,r,a)}}(t)})},s=function(e){return a.defaults({COMPONENT:function(t,r){return e.updateComponent(t,r)}},a.mapValues(o.pointers.components.PROPERTY_TYPES,function(t){return function(t){return function(r,a){return e.updateComponentProperty(r,t,a)}}(t)}))};e.exports={create:function(e){var t=s(e),r=i(e),o=a.assign({},r,t);return{get:function(t){return a.get(e,n.getPath(t))},getKeys:function(t){var r=a.get(e,n.getPath(t));return a.keys(r)},isExist:function(t){return a.has(e,n.getPath(t))},merge:function(t,r){var i=a.get(e,n.getPath(t)),s=a.assign({},i,r);o[t.type](t.id,s)},push:function(t,r,o){if("COMPONENTS"!==t.type)throw new Error("push is allowed only to update children. Invalid pointer: "+t);var i=a.get(e,n.getPath(t));o=o||i.length,e.spliceComponents(t.id,o,0,r)},remove:function(e){o[e.type](e.id,void 0)},set:function(e,t){return o[e.type](e.id,t)}}}}},function(e,t,r){"use strict";var a=r(0),n=r(5),o=r(3),i=r(1),s=i.pointers.components.PROPERTY_TYPES,u=s.DATA_QUERY,_=s.PROPERTY_QUERY,c=s.DESIGN_QUERY,p=s.STYLE_ID,l=i.pointers.data.DATA_MAPS,d=l.DATA,m=l.DESIGN,v=l.PROPERTIES,h=l.STYLE;e.exports={create:function(e,t,r,s){var l=function(e,r){var o=n.components.getComponent(e),i=n.components.getProperty(o,r),s=t.get(i);return a.replace(s,"#","")},y=function(t,n,i,s){var u=l(t,n),_=e.data[i][u]||{},c=a.mapValues(s,function(n,s){return a.get(r,[_.type,s])?function(t,r,n,i){var s=o.getRuntimeId(t,r.replace("#","")),u=e.runtime.data[n][s];return e.updateDataOverrides(n,s,a.assign({},u,i)),s}(t,_[s],i,n):n}),p=o.getRuntimeId(t,u),d=e.runtime.data[i][p];e.updateDataOverrides(i,p,a.assign({},d,c))},f=function(t,r,a){var n=l(t,r);return e.resolved[a][n]};return{getCompData:function(e){return f(e,u,d)},getCompProps:function(e){return f(e,_,v)},getPlatformModels:function(t){return a.cloneDeep(e.RMI[t])},getPopupContext:a.noop,registerComponentEvent:function(e,t){s.emit(i.EVENTS.REGISTER_COMPONENT,{compId:e,newEventData:t})},reset:function(){return e.setRuntime(o.createEmptyRuntime())},setCompData:function(e,t){return y(e,u,d,t)},setCompDesign:function(e,t){return y(e,c,m,t)},setCompProps:function(e,t){return y(e,_,v,t)},updateContext:function(t,r){e.updateContext(t,r)},updateCompLayout:a.noop,updateCompStyle:function(e,t){return y(e,p,h,t)}}}}},function(e,t,r){"use strict";var a=r(1),n=r(0),o=a.pointers.components.PROPERTY_TYPES,i=o.DATA_QUERY,s=o.PROPERTY_QUERY,u=o.DESIGN_QUERY,_=o.LAYOUT,c=o.SKIN,p=o.STYLE_ID;e.exports={create:function(e){var t=e.displayedDAL,r=e.runtimeDAL,a=e.pointers,o=e.getDataByQuery,l=e.getStructure,d=e.getStructureProperty,m=function(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e)return e;var i=d(t,r);return i?o(i,a):n},v={Theme:{colors:function(){return n.get(t.get(a.data.getThemeDataPointer()),"color")},THEME_DATA:function(){return t.get(a.data.getThemeDataPointer())}},Fonts:{fontsMap:function(){return n.get(t.get(a.data.getThemeDataPointer()),"font")}},Component:{rotationInDegrees:function(e,t){var r=t.id;return d(r,_).rotationInDegrees},renderFixedPosition:function(e,t){var r=t.id;return n.get(d(r,_),"fixedPosition",!1)},isCollapsed:function(e,t){return n.get(v.Component.compProp(e,t),"isCollapsed",!1)},compData:function(e,t){var r=t.compData,a=t.id;return m(r,a,i,"DATA")},compDesign:function(e,t){var r=t.compDesign,a=t.id;return m(r,a,u,"DESIGN")},compProp:function(e,t){var r=t.compProp,a=t.id;return m(r,a,s,"PROPERTIES",{})},id:function(e,t){return t.id},skin:function(e,r){var n=r.id,o=d(n,p);return o&&(t.get(a.data.getStylePointer(o))||{}).skin||d(n,c)},structure:function(e,t){var r=t.id;return l(r)},styleId:function(e,t){var r=t.id;return d(r,p)},style:function(e,t){var r=t.id,a=d(r,_),n=a.width,o=a.height,i=a.x;return{width:n,height:o,top:a.y,left:i,position:"absolute"}},getStyleData:function(e,r){var o=r.id;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.get(a.data.getStylePointer(e))||{};return r.skin?r:n.defaults(r,{skin:d(o,c)})}},theme:function(e,t){var r=t.compData,a=t.id;return m(r,a,p,"STYLE")}},DAL:{setCompData:function(e,t){var a=t.id;return function(e){return r.setCompData(a,e)}}}};return v}}},function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}e.exports=function(e,t){var r={$model:e},o=new Set,i=new WeakMap,s=new WeakMap,u=new WeakMap,_=new WeakMap,c=new WeakMap,p=new WeakMap,l=new Set,d=new WeakSet;_.set(r,l);var m=new Map,v=function(e){return m.has(e)||m.set(e,{}),m.get(e)},h=function e(t,r){t.has(r)||(t.add(r),function(e,t){var r=s.get(e);r&&r[t]&&(r[t].forEach(function(e){var t=e.$sourceObj,r=e.$sourceKey,a=e.$target;i.get(t)[r].delete(a)}),delete r[t])}(t,r),c.has(t)&&e(c.get(t),p.get(t)))};function y(e,t,r,n){var o=!1,i=!1;return n&&("object"===a(e[t])&&e[t]&&e[t]!==r&&(i=!0),(i||e[t]!==r||"object"===(void 0===r?"undefined":a(r))&&d.has(r)||!e.hasOwnProperty(t)&&void 0===e[t])&&(o=!0,P(e,t,i))),e[t]=r,o}function f(e,t,r){var n=!1;r&&("object"===a(e[t])&&e[t]&&(n=!0),P(e,t,n)),delete e[t]}function $(e,t,r,n){var o=!1;n&&("object"===a(e[t])&&e[t]&&e[t]!==r&&(o=!0),(o||e[t]!==r||"object"===a(e[t])&&d.has(r)||!e.hasOwnProperty(t)&&void 0===e[t])&&P(e,t,o)),e[t]=r}function g(e,t,r,a){i.has(t)||i.set(t,{});var n=i.get(t);n[r]=n[r]||new Map,n[r].set(e,a);var o=s.get(e[0]);o[e[1]]=o[e[1]]||[],o[e[1]].push({$sourceKey:r,$sourceObj:t,$target:e})}function V(e,t){s.has(e[0])||s.set(e[0],{});for(var r=t.length-2,a=t[0],n=0;n<=r;n++)g(e,a,t[n+1],n!==r),a=a[t[n+1]]}function P(e,t,r){d.add(e);var a=i.get(e);a&&a.hasOwnProperty(t)&&a[t].forEach(function(e,t){e&&!r||h(t[0],t[1])}),u.has(e)&&u.get(e).forEach(function(e){h(e,t)})}function b(e,t,r,a,n){var o=!1;a.output=a.output||new WeakMap,a.output.has(e)||a.output.set(e,new WeakMap);var i=a.output.get(e);i.has(r)||i.set(r,{});var s=i.get(r);if(!s.hasOwnProperty(t)){s[t]=n();var l=_.get(e),d=new Set;c.set(d,l),p.set(d,t),_.set(s[t],d),u.has(r)||u.set(r,new Set),u.get(r).add(d),o=!0}return{$out:s[t],$new:o}}var B=function(){return{}},O=function(){return[]};function R(e,t,r,a,n){var o=b(e,t,a,r,B),i=o.$out,s=o.$new,u=_.get(i);return(s&&Object.keys(a)||u).forEach(function(e){r(u,a,e,i,n)}),u.clear(),i}function w(e,t,r,a,n){var o=b(e,t,a,r,O),i=o.$out,s=o.$new,u=_.get(i);if(s)for(var c=0;c<a.length;c++)r(u,a,c,i,n);else u.forEach(function(e){r(u,a,e,i,n)});return u.clear(),i}function Q(e,t,r){var a=this.$dependencyMap,n=this.$currentStack,o=this.$invalidatedKeys,i=this.$out,s=this.func,u=this.src,_=this.context;return n.length>0&&(n[n.length-1],a.has(e)||a.set(e,[]),a.get(e).push({$localInvalidatedKeys:t,$localKey:r})),o.has(e)&&(n.push(e),o.delete(e),s(o,u,e,i,_,this),n.pop()),i[e]}var E=new WeakMap;function A(e,t,r,a,n){var o=b(e,t,a,r,B),i=o.$out,s=o.$new,u=_.get(i);s&&E.set(i,{$dependencyMap:new Map,$currentStack:[],$invalidatedKeys:u,$out:i,func:r,src:a,context:n,recursiveSteps:Q});var c=E.get(i);return c.context=n,s?(Object.keys(a).forEach(function(e){return u.add(e)}),Object.keys(a).forEach(function(e){return c.recursiveSteps(e,u,e)})):(function(e){var t=e.$dependencyMap;e.$invalidatedKeys.forEach(function(e){t.has(e)&&(t.get(e).forEach(function(e){var t=e.$localInvalidatedKeys,r=e.$localKey;h(t,r)}),t.delete(e))})}(c),u.forEach(function(e){c.recursiveSteps(e,u,e)})),u.clear(),i}var T=new WeakMap;function M(e,t,r,a,n){var o=b(e,t,a,r,B),i=o.$out,s=o.$new,u=_.get(i);s&&T.set(i,[]);var c=T.get(i);if(s)for(var p=0;p<a.length;p++)r(u,c,a,p,i,n);else{var l=new Set;u.forEach(function(e){return l.add(c[e])}),u.forEach(function(e){l.delete(r(u,c,a,e,i,n))}),l.forEach(function(e){P(i,e),delete i[e]})}return c.length=a.length,u.clear(),i}var I=new WeakMap;function C(e,t,r,a,n){var o=b(e,t,a,r,B),i=o.$out,s=o.$new,u=_.get(i);s&&I.set(i,{});var c=I.get(i);if(s)Object.keys(a).forEach(function(e){c[e]=r(u,a,e,i,n)});else{var p=new Set;u.forEach(function(e){c.hasOwnProperty(e)&&(p.add(c[e]),delete c[e])}),u.forEach(function(e){if(a.hasOwnProperty(e)){var t=r(u,a,e,i,n);c[e]=t,p.delete(t)}}),p.forEach(function(e){P(i,e),delete i[e]})}return u.clear(),i}var S=new WeakMap;function j(e,t,r,a,n){var o=b(e,t,a,r,O),i=o.$out,s=o.$new,u=_.get(i);s&&S.set(i,[0]);var c=S.get(i);if(s)for(var p=0;p<a.length;p++)r(u,c,a,p,i,n);else{var l=Number.MAX_SAFE_INTEGER;u.forEach(function(e){return l=Math.min(l,e)});for(var d=l;d<a.length;d++)r(u,c,a,d,i,n);c.length=a.length+1;for(var m=c[c.length-1];m<i.length;m++)P(i,m);i.length=c[c.length-1]}return u.clear(),i}var D=new WeakMap;function x(e,t,r,a,n){var o=b(e,t,a,r,B),i=o.$out,s=o.$new,u=_.get(i);s&&D.set(i,{});var c=D.get(i);if(s)Object.keys(a).forEach(function(e){return r(u,c,a,e,i,n)});else{var p={};u.forEach(function(e){p[c[e]]=p[c[e]]||new Set,p[c[e]].add(e)}),u.forEach(function(e){r(u,c,a,e,i,n)&&p.hasOwnProperty(c[e])&&p[c[e]].delete(e)}),Object.keys(p).forEach(function(e){p[e].size>0&&(p[e].forEach(function(t){P(i[e],t),delete i[e][t]}),P(i,e),0==Object.keys(i[e]).length&&delete i[e])})}return u.clear(),i}var H=new WeakMap;function N(e,t,r,a,n){var o=b(e,t,a,r,O),i=o.$out;if(o.$new){var s={},u=[];H.set(i,{$keyToIdx:s,$idxToKey:u}),Object.keys(a).forEach(function(e,t){i[t]=n?a[e]:e,u[t]=e,s[e]=t})}else{var c=_.get(i),p=H.get(i),l=p.$keyToIdx,d=p.$idxToKey,m=[],v=[];c.forEach(function(e){a.hasOwnProperty(e)&&!l.hasOwnProperty(e)?v.push(e):!a.hasOwnProperty(e)&&l.hasOwnProperty(e)?m.push(e):l.hasOwnProperty(e)&&(i[l[e]]=a[e],P(i,l[e]))}),v.length<m.length&&m.sort(function(e,t){return l[e]-l[t]});for(var h=i.length-m.length+v.length,y=0;y<v.length&&y<m.length;y++){var f=v[y],$=m[y],g=l[$];delete l[$],l[f]=g,d[g]=f,i[g]=n?a[f]:f,P(i,g)}for(var V=m.length;V<v.length;V++){var B=v[V],R=i.length;l[B]=R,d[R]=B,i[R]=n?a[B]:B,P(i,R)}for(var w=m.slice(v.length),Q=new Set(m.slice(v.length)),E=new Set(d.slice(h).filter(function(e){return!Q.has(e)})),A=0,T=h;T<i.length;T++){var M=d[T];if(E.has(M)){var I=w[A],C=l[I];i[C]=n?a[M]:M,l[M]=C,d[C]=M,delete l[I],P(i,C),A++}else delete l[M];P(i,T)}i.length=h,d.length=i.length,c.clear()}return i}var k=new WeakMap,Y=new WeakMap;function F(e,t,r,a,n,o){var i=function(e,t,r){k.has(e)||k.set(e,{});var a=k.get(e);return a[t]=a[t]||new Map,a[t].has(r)||a[t].set(r,[]),a[t].get(r)}(e,t,a);o=o&&i.length===n;for(var s=0;s<n;s++)$(i,s,r[s],o);return i}function q(e,t,r,a,n,o){var i=function(e,t,r){Y.has(e)||Y.set(e,{});var a=Y.get(e);return a[t]=a[t]||new Map,a[t].has(r)||a[t].set(r,{}),a[t].get(r)}(e,t,a);o=o&&n.length&&i.hasOwnProperty(n[0]);for(var s=0;s<n.length;s++){var u=n[s];y(i,u,r[u],o)}return i}function L(e,t,r,a,o,i){var s=b(e,t,a,r,B),u=s.$out,c=s.$new;if(o||(a=[].concat(n(a)).reverse()),c)Object.assign.apply(Object,[u].concat(n(a)));else{var p=_.get(u),l=new Set(Object.keys(u)),d=Object.assign.apply(Object,[{}].concat(n(a)));Object.keys(d).forEach(function(e){l.delete(e),y(u,e,d[e],i)}),l.forEach(function(e){delete u[e],P(u,e)}),p.clear()}return u}function W(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,N(a,r,v(6),o,!0),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function U(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o,!1):a.hasOwnProperty(r)&&f(a,r,!1)}function G(e,r,a,n,o){var i=r[a];r.hasOwnProperty(a)?y(n,a,t.updateRuntimeActionsMobxData(i,a),!1):n.hasOwnProperty(a)&&f(n,a,!1)}l.add("runtimeActionBehaviors"),l.add("actionBehaviorsAllEvents"),l.add("combinedActionBehaviorsForComponent"),l.add("combinedBehaviorsForComponentAction"),l.add("actionsForComponentWithRuntime"),l.add("data");var K=v(26),J=["type","value"];function z(e,a,n,o,i){var s=a[n];a.hasOwnProperty(n)?y(o,n,t.updateOnRuntimeCompDataChange(s,t.getCompIdFromRuntimeId(n),q(e,n,{type:r.$object_rmi_19_3[i[0]],value:s},K,J,!1)),!1):o.hasOwnProperty(n)&&f(o,n,!1)}function X(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,z,o,F(e,r,[r],v(22),1,!0)),!1):a.hasOwnProperty(r)&&f(a,r,!1)}function Z(t,r,a,n,o){var i=[t,a],s=!1,u=r[a];r.hasOwnProperty(a)?(y(n,a,"data"===a?R(n,a,X,e.runtime[s=a],null):u,!1),s&&V(i,[e,"runtime",a])):n.hasOwnProperty(a)&&f(n,a,!1)}function ee(e,r,a,n,o){var i=r[a];r.hasOwnProperty(a)?y(n,a,t.parseJSON(i.connection.config),!1):n.hasOwnProperty(a)&&f(n,a,!1)}function te(e,t,r,a,n){var o=t[r],i=o.compId;return y(a,i,o,!1),i}function re(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,ee,C(a,r,te,o,null),null),!1):a.hasOwnProperty(r)&&f(a,r,!1)}function ae(e,t,r,a,n,o){if(!r.hasOwnProperty(a))return delete t[a],!1;var i=r[a],s=""+i.connection.role;return t[a]=s,n.hasOwnProperty(s)||(n[s]={}),y(n[s],a,i,!1),n[s][a]=i,!0}function ne(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,re,x(a,r,ae,o,null),null),!1):a.hasOwnProperty(r)&&f(a,r,!1)}function oe(e,t,r,a,n,o){if(!r.hasOwnProperty(a))return delete t[a],!1;var i=r[a],s=""+i.connection.controllerId;return t[a]=s,n.hasOwnProperty(s)||(n[s]={}),y(n[s],a,i,!1),n[s][a]=i,!0}function ie(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+s.compId+a,s,!1),n[i]=s,t[a]=i}return i}l.add("runtime");var se=v(103),ue=["config","controllerId"],_e=v(102),ce=2,pe=v(106),le=2,de=v(97),me=["connection","compId"];function ve(e,t,a,n,o){var i=[e,a],s=!1,u=t[a];a>=t.length?($(n,a,void 0,!1),n.length=t.length):($(n,a,q(e,a,{connection:"WixCodeConnectionItem"===u.type?L(n,a,v(101),F(e,a,[u,q(e,a,{config:null,controllerId:o[0][s="ctxId"]},se,ue,!1)],_e,ce,!1),!0,!1):L(n,a,v(105),F(e,a,[u,r.$object_rmi_93_2],pe,le,!1),!1,!1),compId:o[0].compId},de,me,!1),!1),s&&V(i,[o,0,"ctxId"]),V(i,[o,0,"compId"]))}var he=v(139),ye=["compId","ctxId"];function fe(e,a,n,o,i){var s=[e,n],u=!1,_=!1,c=!1,p=a[n];a.hasOwnProperty(n)?(y(o,n,(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][p.connectionQuery&&t.removeHash(p.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][u=p.connectionQuery&&t.removeHash(p.connectionQuery)]||r.$object_rmi_152_1).items?M(o,n,ie,w(o,n,ve,(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][_=p.connectionQuery&&t.removeHash(p.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][c=p.connectionQuery&&t.removeHash(p.connectionQuery)]||r.$object_rmi_152_1).items,F(e,n,[q(e,n,{compId:n,ctxId:i[0]},he,ye,!1)],v(95),1,!0)),null):r.$array_actionBehaviors_70_0,!1),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,p.connectionQuery&&t.removeHash(p.connectionQuery)]),u&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,p.connectionQuery&&t.removeHash(p.connectionQuery)]),_&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,p.connectionQuery&&t.removeHash(p.connectionQuery)]),c&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,p.connectionQuery&&t.removeHash(p.connectionQuery)])):o.hasOwnProperty(n)&&f(o,n,!1)}function $e(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(r.$mapValues_rmi_46_40[o[0]][a]?y(n,a,s,!1):n.hasOwnProperty(a)&&f(n,a,!1),V(i,[r,"$mapValues_rmi_46_40",o[0],a])):n.hasOwnProperty(a)&&f(n,a,!1)}var ge=v(441),Ve=["eventType"],Pe=v(440),be=2;function Be(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!1),a.length=t.length):$(a,r,L(a,r,v(439),F(e,r,[q(e,r,{eventType:o.action.name},ge,Ve,!1),o.behavior.params],Pe,be,!1),!0,!1),!1)}var Oe=v(149),Re=["parent","type","state","layout","design","isDisplayed","id","data","style","fullData","props","children","displayedRoot","events","displayedOnlyComponents"];function we(e,a,n,o,i){var s=[e,n],u=!1,_=!1,c=!1,p=!1,l=!1,d=!1,m=!1,v=!1,h=!1,$=!1,g=!1,P=!1,b=!1,B=!1,O=a[n];a.hasOwnProperty(n)?(y(o,n,q(e,n,{parent:O.parent||null,type:O.componentType,state:r.$object_rmi_152_1,layout:O.layout,design:r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.designQuery][O.designQuery&&t.removeHash(O.designQuery)]||r.$object_rmi_152_1,isDisplayed:!r.$mapValues_repeaters_74_23[n]&&(r.$mapValues_rmi_46_39[i[0]][u=n]||!1),id:(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][_=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items&&"WixCodeConnectionItem"===((r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][c=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][p=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items)[0].type&&((r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][l=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][d=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items)[0]?((r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][m=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][v=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items?"WixCodeConnectionItem"===((r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][h=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][$=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items)[0].type&&((r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][g=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1)&&(r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.connectionQuery][P=O.connectionQuery&&t.removeHash(O.connectionQuery)]||r.$object_rmi_152_1).items)[0]:null).role:O.id,data:r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.dataQuery][O.dataQuery&&t.removeHash(O.dataQuery)]||r.$object_rmi_152_1,style:r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.styleId][O.styleId&&t.removeHash(O.styleId)]||r.$object_rmi_152_1,fullData:r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.dataQuery][t.isRuntimeId(O.dataQuery)?t.getQueryIdFromRuntimeId(O.dataQuery):O.dataQuery&&t.removeHash(O.dataQuery)]||r.$object_rmi_152_1,props:r.$mapValues_dataResolving_25_13[r.$object_runtime_6_5.propertyQuery][O.propertyQuery&&t.removeHash(O.propertyQuery)]||r.$object_rmi_152_1,children:O.components,displayedRoot:r.$assign_repeaters_75_26[n]||null,events:r.combinedActionBehaviorsForComponent[n]?w(o,n,Be,r.combinedActionBehaviorsForComponent[b=n],null):r.$array_actionBehaviors_70_0,displayedOnlyComponents:r.$mapValues_repeaters_74_23[n]?r.$mapValues_repeaters_74_23[B=n]:r.$array_actionBehaviors_70_0},Oe,Re,!1),!1),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.designQuery,O.designQuery&&t.removeHash(O.designQuery)]),V(s,[r,"$mapValues_repeaters_74_23",n]),u&&V(s,[r,"$mapValues_rmi_46_39",i[0],n]),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),_&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),c&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),p&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),l&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),d&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),m&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),v&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),h&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),$&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),g&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),P&&V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.connectionQuery,O.connectionQuery&&t.removeHash(O.connectionQuery)]),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.dataQuery,O.dataQuery&&t.removeHash(O.dataQuery)]),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.styleId,O.styleId&&t.removeHash(O.styleId)]),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.dataQuery,t.isRuntimeId(O.dataQuery)?t.getQueryIdFromRuntimeId(O.dataQuery):O.dataQuery&&t.removeHash(O.dataQuery)]),V(s,[r,"$mapValues_dataResolving_25_13",r.$object_runtime_6_5.propertyQuery,O.propertyQuery&&t.removeHash(O.propertyQuery)]),V(s,[r,"$assign_repeaters_75_26",n]),V(s,[r,"combinedActionBehaviorsForComponent",n]),b&&V(s,[r,"combinedActionBehaviorsForComponent",n]),V(s,[r,"$mapValues_repeaters_74_23",n]),B&&V(s,[r,"$mapValues_repeaters_74_23",n])):o.hasOwnProperty(n)&&f(o,n,!1)}function Qe(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(r.$mapValues_rmi_46_40[o[0]][a]?y(n,a,s,!1):n.hasOwnProperty(a)&&f(n,a,!1),V(i,[r,"$mapValues_rmi_46_40",o[0],a])):n.hasOwnProperty(a)&&f(n,a,!1)}var Ee=v(34),Ae=["connections","components"];function Te(e,t,a,n,o){var i=[e,a];t[a],t.hasOwnProperty(a)?(y(n,a,q(e,a,{connections:R(n,a,ne,x(n,a,oe,N(n,a,v(55),L(n,a,v(56),N(n,a,v(57),R(n,a,fe,R(n,a,$e,r.$mapValues_runtime_29_37,F(e,a,[a],v(141),1,!0)),F(e,a,[a],v(58),1,!0)),!0),!0,!1),!0),null),null),components:R(n,a,we,R(n,a,Qe,r.$mapValues_runtime_29_37,F(e,a,[a],v(455),1,!0)),F(e,a,[a],v(147),1,!0))},Ee,Ae,!1),!1),V(i,[r,"$mapValues_runtime_29_37"]),V(i,[r,"$mapValues_runtime_29_37"])):n.hasOwnProperty(a)&&f(n,a,!1)}function Me(e,r,a,n,o){var i=r[a];r.hasOwnProperty(a)?y(n,a,t.updateMobxStructure(i),!1):n.hasOwnProperty(a)&&f(n,a,!1)}function Ie(e,r,a,n,o){var i=[e,a],s=r[a];r.hasOwnProperty(a)?(y(n,a,t.updateMobxData(s,a,o[0]),!1),V(i,[o,0])):n.hasOwnProperty(a)&&f(n,a,!1)}function Ce(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,Ie,o,F(e,r,[r],v(470),1,!0)),!1):a.hasOwnProperty(r)&&f(a,r,!1)}function Se(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):$(a,r,o.behavior,!0)}function je(e,t,r,a,n,o){var i=[e,a],s=r[a],u=s.action.name===o[0],_=t[a],c=u?_+1:_;c!==_&&$(n,_,s,!0),t[a+1]=c,V(i,[o,0])}function De(e,t,a,n,o){var i=[e,a];t[a],t.hasOwnProperty(a)?(y(n,a,w(n,a,Se,j(n,a,je,r.combinedActionBehaviorsForComponent[o[0]],F(e,a,[a],v(481),1,!0)),null),!0),V(i,[r,"combinedActionBehaviorsForComponent",o[0]])):n.hasOwnProperty(a)&&f(n,a,!0)}function xe(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+(s.action.name||"somethingElse"),s,!0),n[i]=s,t[a]=i}return i}function He(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,De,M(a,r,xe,o,null),F(e,r,[r],v(476),1,!0)),!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("RMI"),l.add("structure"),l.add("activeModes"),l.add("resolved"),l.add("$mapValues_actionBehaviors_77_54");var Ne=v(499),ke=1,Ye=v(503),Fe=1,qe=v(497),Le=2;function We(e,t,a,n,o){var i=[e,a];t[a],t.hasOwnProperty(a)?(y(n,a,L(n,a,v(496),F(e,a,[L(n,a,v(498),F(e,a,[r.$mapValues_actionBehaviors_46_47[a]],Ne,ke,!0),!1,!0),L(n,a,v(502),F(e,a,[r.$mapValues_actionBehaviors_27_7[a]],Ye,Fe,!0),!1,!0)],qe,Le,!0),!1,!0),!0),V(i,[r,"$mapValues_actionBehaviors_46_47",a]),V(i,[r,"$mapValues_actionBehaviors_27_7",a])):n.hasOwnProperty(a)&&f(n,a,!0)}function Ue(e,t,r,a,n){var o=r+"@"+r;return y(a,o,t[r],!0),o}l.add("$mapValues_actionBehaviors_56_53");var Ge=v(510),Ke=2;function Je(e,a,n,o,i){var s=[e,n];a[n],a.hasOwnProperty(n)?(y(o,n,L(o,n,v(509),F(e,n,[r.$filterBy_actionBehaviors_34_44[n]||r.$array_actionBehaviors_70_0,C(o,n,Ue,t.groupByCompId(r.runtimeActionBehaviors)[n]||r.$array_actionBehaviors_70_0,null)],Ge,Ke,!0),!0,!0),!0),V(s,[r,"$filterBy_actionBehaviors_34_44",n]),V(s,[r,"runtimeActionBehaviors"])):o.hasOwnProperty(n)&&f(o,n,!0)}l.add("$mapValues_actionBehaviors_68_52");var ze=v(525),Xe=2;l.add("$array_actionBehaviors_63_51"),l.add("$defaults_actionBehaviors_55_50");var Ze=v(530),et=2;function tt(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):$(a,r,o.behavior,!0)}function rt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,w(a,r,tt,N(a,r,v(540),o,!0),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function at(e,t,r,a,n,o){var i;if(!r.hasOwnProperty(a))return delete t[a],!1;var s=r[a],u=""+s.action.name;return t[a]=u,n.hasOwnProperty(u)||(n[u]={}),i=y(n[u],a,s,!0),n[u][a]=s,i&&P(n,u),!0}function nt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,rt,x(a,r,at,o,null),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function ot(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+s.name,s,!0),n[i]=s,t[a]=i}return i}function it(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):$(a,r,o.action,!0)}function st(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,M(a,r,ot,w(a,r,it,o,null),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("$array_actionBehaviors_54_49"),l.add("$mapValues_actionBehaviors_37_48"),l.add("$mapValues_actionBehaviors_46_47"),l.add("$defaults_actionBehaviors_67_46");var ut=v(557),_t=2;function ct(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)&&o.length>=1?y(a,r,o,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function pt(e,t,r,a,n,o){var i=r[a],s=i.action&&i.behavior,u=t[a],_=s?u+1:u;_!==u&&$(n,u,i,!0),t[a+1]=_}function lt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,j(a,r,pt,o,null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function dt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)&&o?y(a,r,o,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function mt(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(y(n,a,r.$mapValues_actionBehaviors_8_14[s],!0),V(i,[r,"$mapValues_actionBehaviors_8_14",s])):n.hasOwnProperty(a)&&f(n,a,!0)}function vt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)&&o?y(a,r,o,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function ht(t,r,a,n,o,i){var s=[t,a],u=!1,_=!1,c=!1,p=!1,l=r[a];if(r.hasOwnProperty(a)){var d=a===o[0]||!!(l.parent||e.structure[u=l.id]&&e.structure[l.id][_="parent"])&&i.recursiveSteps(l.parent||!!e.structure[c=l.id]&&e.structure[l.id][p="parent"],t,a);y(n,a,d,!0),n[a]=d,V(s,[o,0]),u&&V(s,[e,"structure",l.id]),_&&V(s,[e,"structure",l.id,"parent"]),c&&V(s,[e,"structure",l.id]),p&&V(s,[e,"structure",l.id,"parent"])}else n.hasOwnProperty(a)&&f(n,a,!0)}function yt(e,t,a,n,o){var i=[e,a],s=t[a];a>=t.length?($(n,a,void 0,!0),n.length=t.length):($(n,a,R(n,a,vt,A(n,a,ht,r.$mapValues_runtime_29_37,F(e,a,[s],v(590),1,!0)),null),!0),V(i,[r,"$mapValues_runtime_29_37"]))}function ft(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,L(a,r,v(584),N(a,r,v(585),w(a,r,yt,o,null),!0),!0,!0),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function $t(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)&&o?y(a,r,o,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function gt(e,t,a,n,o,i){var s=[e,a],u=t[a];if(t.hasOwnProperty(a)){var _=a===o[0]||!!(u.parent||r.$object_rmi_152_1[u.id]&&r.$object_rmi_152_1[u.id].parent)&&i.recursiveSteps(u.parent||!!r.$object_rmi_152_1[u.id]&&r.$object_rmi_152_1[u.id].parent,e,a);y(n,a,_,!0),n[a]=_,V(s,[o,0])}else n.hasOwnProperty(a)&&f(n,a,!0)}function Vt(e,t,a,n,o){var i=[e,a],s=t[a];a>=t.length?($(n,a,void 0,!0),n.length=t.length):($(n,a,R(n,a,$t,A(n,a,gt,r.$mapValues_runtime_29_37,F(e,a,[s],v(626),1,!0)),null),!0),V(i,[r,"$mapValues_runtime_29_37"]))}function Pt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,L(a,r,v(620),N(a,r,v(621),w(a,r,Vt,o,null),!0),!0,!0),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function bt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o.behaviorQuery,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Bt(e,t,a,n,o){var i=[e,a],s=!1,u=t[a];t.hasOwnProperty(a)?(y(n,a,r.$mapValues_runtime_23_6[r.$object_runtime_6_5[a]]&&r.$mapValues_runtime_23_6[r.$object_runtime_6_5[a]][s=o[0]]||u,!0),V(i,[r,"$mapValues_runtime_23_6",r.$object_runtime_6_5[a]]),s&&V(i,[r,"$mapValues_runtime_23_6",r.$object_runtime_6_5[a],o[0]])):n.hasOwnProperty(a)&&f(n,a,!0)}function Ot(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,Bt,o,F(e,r,[r],v(660),1,!0)),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Rt(e,t,a,n,o,i){var s=[e,n],u=!1,_=a[n],c=!r.$mapValues_modes_20_35[_]||!r.$mapValues_modes_20_35[_][u="isHiddenByModes"],p=t[n],l=c?p+1:p;l!==p&&$(o,p,_,!0),t[n+1]=l,V(s,[r,"$mapValues_modes_20_35",_]),u&&V(s,[r,"$mapValues_modes_20_35",_,"isHiddenByModes"])}l.add("$array_actionBehaviors_66_45"),l.add("$filterBy_actionBehaviors_34_44"),l.add("$mapValues_actionBehaviors_33_43"),l.add("$filterBy_actionBehaviors_32_42"),l.add("$mapValues_actionBehaviors_31_41"),l.add("$mapValues_rmi_46_40"),l.add("$mapValues_rmi_46_39"),l.add("$mapValues_actionBehaviors_30_38"),l.add("$mapValues_runtime_29_37");var wt=v(676),Qt=["id","type","metaData","parent","componentType","skin","dataQuery","modes","connectionQuery","propertyQuery","layout","designQuery","behaviorQuery","styleId","components"];function Et(e,t,a,n,o){var i=[e,a],s=!1,u=!1,_=!1,c=!1,p=!1,l=t[a];t.hasOwnProperty(a)?(y(n,a,q(e,a,{id:l.id,type:l.type,metaData:l.metaData,parent:!r.$mapValues_modes_20_35[a].isHiddenByModes&&l.parent,componentType:l.componentType,skin:l.skin,dataQuery:l.dataQuery,modes:l.modes,connectionQuery:l.connectionQuery,propertyQuery:r.$mapValues_modes_20_35[a]&&r.$mapValues_modes_20_35[a][s="propertyQuery"]||l.propertyQuery,layout:r.$mapValues_modes_20_35[a]&&r.$mapValues_modes_20_35[a][u="layout"]||l.layout,designQuery:r.$mapValues_modes_20_35[a]&&r.$mapValues_modes_20_35[a][_="designQuery"]||l.designQuery,behaviorQuery:r.$mapValues_modes_20_35[a]&&r.$mapValues_modes_20_35[a][c="behaviorQuery"]||l.behaviorQuery,styleId:r.$mapValues_modes_20_35[a]&&r.$mapValues_modes_20_35[a][p="styleId"]||l.styleId,components:l.components&&j(n,a,Rt,l.components,null)},wt,Qt,!0),!0),V(i,[r,"$mapValues_modes_20_35",a,"isHiddenByModes"]),V(i,[r,"$mapValues_modes_20_35",a]),s&&V(i,[r,"$mapValues_modes_20_35",a,"propertyQuery"]),V(i,[r,"$mapValues_modes_20_35",a]),u&&V(i,[r,"$mapValues_modes_20_35",a,"layout"]),V(i,[r,"$mapValues_modes_20_35",a]),_&&V(i,[r,"$mapValues_modes_20_35",a,"designQuery"]),V(i,[r,"$mapValues_modes_20_35",a]),c&&V(i,[r,"$mapValues_modes_20_35",a,"behaviorQuery"]),V(i,[r,"$mapValues_modes_20_35",a]),p&&V(i,[r,"$mapValues_modes_20_35",a,"styleId"])):n.hasOwnProperty(a)&&f(n,a,!0)}l.add("$mapValues_modes_62_36");var At=v(746),Tt=["propertyQuery","isHiddenByModes","layout","designQuery","styleId"];function Mt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,q(e,r,{propertyQuery:!!o&&o.propertyQuery,isHiddenByModes:!!o&&o.isHiddenByModes,layout:!!o&&o.layout,designQuery:!!o&&o.designQuery,styleId:!!o&&o.styleId},At,Tt,!0),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function It(e,t,a,n,o,i){var s=[e,n],u=a[n],_=r.activeModes[u.modeIds[0]],c=t[n],p=_?c+1:c;p!==c&&$(o,c,u,!0),t[n+1]=p,V(s,[r,"activeModes",u.modeIds[0]])}l.add("$mapValues_modes_20_35");var Ct=v(775),St=["isHiddenByModes"];function jt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o.modes&&o.modes.overrides&&(j(a,r,It,o.modes.overrides,null)[0]||q(e,r,{isHiddenByModes:o.modes.isHiddenByModes},Ct,St,!0))||!1,!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("$mapValues_modes_6_34");var Dt=v(779),xt=2;function Ht(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,"DEFAULT"===o.type,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Nt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o&&R(a,r,Ht,o,null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function kt(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+s.modeId,s,!0),n[i]=s,t[a]=i}return i}function Yt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o.modes&&o.modes.definitions&&M(a,r,kt,o.modes.definitions,null)||!1,!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("$array_modelBuilder_28_33"),l.add("$assign_modes_80_32"),l.add("$values_modes_79_31"),l.add("$mapValues_modes_76_30"),l.add("$mapValues_modes_75_29"),l.add("$assign_repeaters_73_28");var Ft=v(809),qt=3;function Lt(e,t,a,n,o){var i=[e,a];t[a],t.hasOwnProperty(a)?(y(n,a,r.$recursiveMapValues_repeaters_7_10[o[0]],!0),V(i,[r,"$recursiveMapValues_repeaters_7_10",o[0]])):n.hasOwnProperty(a)&&f(n,a,!0)}function Wt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,Lt,o,F(e,r,[r],v(819),1,!0)),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Ut(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,N(a,r,v(826),o,!1),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Gt(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+s.id,s,!0),n[i]=s,t[a]=i}return i}function Kt(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,M(a,r,Gt,o,null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Jt(e,t,r,a,n){var o=[e,r],i=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):($(a,r,i+"__"+n[0],!0),V(o,[n,0]))}l.add("$array_repeaters_73_27"),l.add("$assign_repeaters_75_26"),l.add("$values_repeaters_75_25"),l.add("$mapValues_repeaters_75_24"),l.add("$mapValues_repeaters_74_23"),l.add("$assign_repeaters_73_22"),l.add("$values_repeaters_73_21"),l.add("$mapValues_repeaters_72_20");var zt=v(842),Xt=["id","type","metaData","parent","componentType","skin","dataQuery","connectionQuery","propertyQuery","layout","designQuery","behaviorQuery","styleId","modes","components"];function Zt(e,t,a,n,o){var i=[e,a],s=!1,u=!1,_=!1,c=!1,p=!1,l=t[a];a>=t.length?($(n,a,void 0,!0),n.length=t.length):($(n,a,q(e,a,{id:o[0].id+"__"+l,type:o[0].type,metaData:o[0].metaData,parent:r.$filterBy_repeaters_20_4[o[0].parent]?o[0][s="parent"]:o[0][u="parent"]+"__"+l,componentType:o[0].componentType,skin:o[0].skin,dataQuery:o[0].dataQuery?o[0][_="dataQuery"]+"__"+l:"",connectionQuery:o[0].connectionQuery,propertyQuery:o[0].propertyQuery,layout:o[0].layout,designQuery:o[0].designQuery?o[0][c="designQuery"]+"__"+l:"",behaviorQuery:o[0].behaviorQuery,styleId:o[0].styleId,modes:o[0].modes,components:!!o[0].components&&w(n,a,Jt,o[0][p="components"],F(e,a,[l],v(876),1,!0))},zt,Xt,!0),!0),V(i,[o,0,"id"]),V(i,[o,0,"type"]),V(i,[o,0,"metaData"]),V(i,[r,"$filterBy_repeaters_20_4",o[0].parent]),s&&V(i,[o,0,"parent"]),u&&V(i,[o,0,"parent"]),V(i,[o,0,"componentType"]),V(i,[o,0,"skin"]),V(i,[o,0,"dataQuery"]),_&&V(i,[o,0,"dataQuery"]),V(i,[o,0,"connectionQuery"]),V(i,[o,0,"propertyQuery"]),V(i,[o,0,"layout"]),V(i,[o,0,"designQuery"]),c&&V(i,[o,0,"designQuery"]),V(i,[o,0,"behaviorQuery"]),V(i,[o,0,"styleId"]),V(i,[o,0,"modes"]),V(i,[o,0,"components"]),p&&V(i,[o,0,"components"]))}function er(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(y(n,a,w(n,a,Zt,s,F(e,a,[r.$filterBy_repeaters_19_12[a]],v(840),1,!0)),!0),V(i,[r,"$filterBy_repeaters_19_12",a])):n.hasOwnProperty(a)&&f(n,a,!0)}function tr(e,t,r,a,n){var o=[e,r],i=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):($(a,r,n[0]+"__"+i,!0),V(o,[n,0]))}l.add("$mapValues_repeaters_48_19");var rr=v(886),ar=["id","type","metaData","parent","componentType","skin","dataQuery","connectionQuery","propertyQuery","layout","designQuery","behaviorQuery","styleId","modes","components"];function nr(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(y(n,a,q(e,a,{id:s.id,type:s.type,metaData:s.metaData,parent:s.parent,componentType:s.componentType,skin:s.skin,dataQuery:s.dataQuery,connectionQuery:s.connectionQuery,propertyQuery:s.propertyQuery,layout:s.layout,designQuery:s.designQuery,behaviorQuery:s.behaviorQuery,styleId:s.styleId,modes:s.modes,components:w(n,a,tr,r.$mapValues_repeaters_24_16[a],F(e,a,[s.components[0]],v(901),1,!0))},rr,ar,!0),!0),V(i,[r,"$mapValues_repeaters_24_16",a])):n.hasOwnProperty(a)&&f(n,a,!0)}function or(e,t,a,n,o){var i=[e,a];t[a],t.hasOwnProperty(a)?(y(n,a,r.$mapValues_repeaters_24_16[r.$recursiveMapValues_repeaters_7_10[a]],!0),V(i,[r,"$mapValues_repeaters_24_16",r.$recursiveMapValues_repeaters_7_10[a]])):n.hasOwnProperty(a)&&f(n,a,!0)}function ir(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,o.items,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function sr(e,a,n,o,i){var s=[e,n],u=!1,_=a[n];a.hasOwnProperty(n)?(y(o,n,r.$mapValues_dataResolving_25_13.document_data[t.getRuntimeId(n,t.removeHash(_.dataQuery))]||r.$mapValues_dataResolving_25_13.document_data[u=t.removeHash(_.dataQuery)],!0),V(s,[r,"$mapValues_dataResolving_25_13","document_data",t.getRuntimeId(n,t.removeHash(_.dataQuery))]),u&&V(s,[r,"$mapValues_dataResolving_25_13","document_data",t.removeHash(_.dataQuery)])):o.hasOwnProperty(n)&&f(o,n,!0)}function ur(e,r,a,n,o){var i=r[a];r.hasOwnProperty(a)?y(n,a,t.parseJSON(i.items),!0):n.hasOwnProperty(a)&&f(n,a,!0)}function _r(e,r,a,n,o){var i=[e,a],s=!1,u=r[a];a>=r.length?($(n,a,void 0,!0),n.length=r.length):($(n,a,o[0].loop.recursiveSteps(t.getRuntimeId(o[0].id,t.removeHash(u)),e,a)||o[0][s="loop"].recursiveSteps(t.removeHash(u),e,a)||u,!0),V(i,[o,0,"loop"]),V(i,[o,0,"id"]),s&&V(i,[o,0,"loop"]))}l.add("$mapValues_repeaters_25_18"),l.add("$mapValues_repeaters_47_17"),l.add("$mapValues_repeaters_24_16"),l.add("$mapValues_repeaters_21_15"),l.add("$mapValues_actionBehaviors_8_14");var cr=v(976),pr=["loop","id"];function lr(e,r,a,n,o){var i=[e,a],s=!1,u=!1,_=!1,c=!1,p=!1,l=!1,d=r[a];r.hasOwnProperty(a)?(y(n,a,t.isRef(d,a,o[0].itemType)&&(o[0][s="loop"].recursiveSteps(t.getRuntimeId(t.getCompIdFromRuntimeId(o[0][u="id"]),t.removeHash(d)),e,a)||o[0][_="loop"].recursiveSteps(t.removeHash(d),e,a))||t.isRefList(d,a,o[0][c="itemType"])&&w(n,a,_r,d,F(e,a,[q(e,a,{loop:o[0][p="loop"],id:o[0][l="id"]},cr,pr,!0)],v(965),1,!0))||d,!0),V(i,[o,0,"itemType"]),s&&V(i,[o,0,"loop"]),u&&V(i,[o,0,"id"]),_&&V(i,[o,0,"loop"]),c&&V(i,[o,0,"itemType"]),p&&V(i,[o,0,"loop"]),l&&V(i,[o,0,"id"])):n.hasOwnProperty(a)&&f(n,a,!0)}var dr=v(979),mr=["loop","itemType","id"];function vr(e,t,r,a,n,o){var i=t[r];if(t.hasOwnProperty(r)){var s=R(a,r,lr,i,F(e,r,[q(e,r,{loop:o,itemType:i.type,id:r},dr,mr,!0)],v(946),1,!0));y(a,r,s,!0),a[r]=s}else a.hasOwnProperty(r)&&f(a,r,!0)}function hr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,A(a,r,vr,o,null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function yr(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(r.$recursiveMapValues_repeaters_7_10[a]?y(n,a,s,!0):n.hasOwnProperty(a)&&f(n,a,!0),V(i,[r,"$recursiveMapValues_repeaters_7_10",a])):n.hasOwnProperty(a)&&f(n,a,!0)}l.add("$mapValues_dataResolving_25_13"),l.add("$filterBy_repeaters_19_12");var fr=v(990),$r=2;function gr(e,t,a,n,o){var i=[e,a],s=t[a];t.hasOwnProperty(a)?(y(n,a,L(n,a,v(989),F(e,a,[s,r.$mapValues_runtime_9_9[a]],fr,$r,!0),!0,!0),!0),V(i,[r,"$mapValues_runtime_9_9",a])):n.hasOwnProperty(a)&&f(n,a,!0)}function Vr(t,r,a,n,o,i){var s=[t,a],u=!1,_=r[a];if(r.hasOwnProperty(a)){var c=!!_.parent&&("RepeaterContainer"===e.structure[_.parent][u="type"]?_.parent:i.recursiveSteps(_.parent,t,a));y(n,a,c,!0),n[a]=c,u&&V(s,[e,"structure",_.parent,"type"])}else n.hasOwnProperty(a)&&f(n,a,!0)}l.add("$mapValues_runtime_17_11"),l.add("$recursiveMapValues_repeaters_7_10");var Pr=v(1018),br=["id"],Br=v(1013),Or=3;function Rr(e,a,n,o,i){var s=[e,n],u=a[n];a.hasOwnProperty(n)?(y(o,n,L(o,n,v(1012),F(e,n,[r.data[i[0]][t.getQueryIdFromRuntimeId(n)],u,q(e,n,{id:n},Pr,br,!0)],Br,Or,!0),!0,!0),!0),V(s,[r,"data",i[0],t.getQueryIdFromRuntimeId(n)])):o.hasOwnProperty(n)&&f(o,n,!0)}function wr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,Rr,o,F(e,r,[r],v(1010),1,!0)),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Qr(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):$(a,r,o.behavior,!0)}function Er(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,w(a,r,Qr,N(a,r,v(1028),o,!0),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Ar(e,t,r,a,n,o){var i;if(!r.hasOwnProperty(a))return delete t[a],!1;var s=r[a],u=""+s.action.name;return t[a]=u,n.hasOwnProperty(u)||(n[u]={}),i=y(n[u],a,s,!0),n[u][a]=s,i&&P(n,u),!0}function Tr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,R(a,r,Er,x(a,r,Ar,o,null),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Mr(e,t,r,a,n,o){var i=null;if(a<r.length){var s=r[a];y(n,i=""+s.name,s,!0),n[i]=s,t[a]=i}return i}function Ir(e,t,r,a,n){var o=t[r];r>=t.length?($(a,r,void 0,!0),a.length=t.length):$(a,r,o.action,!0)}function Cr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,M(a,r,Mr,w(a,r,Ir,o,null),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Sr(e,r,a,n,o){var i=r[a],s=t.getCompIdFromRuntimeId(i);return y(n,s,i,!0),s}function jr(e,t,r,a,n){t[r],t.hasOwnProperty(r)?y(a,r,r,!0):a.hasOwnProperty(r)&&f(a,r,!0)}function Dr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)?y(a,r,C(a,r,Sr,R(a,r,jr,o,null),null),!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("$mapValues_runtime_9_9"),l.add("$mapValues_actionBehaviors_18_8"),l.add("$mapValues_actionBehaviors_27_7"),l.add("$mapValues_runtime_23_6");var xr=v(1054),Hr=["behaviorQuery","connectionQuery","dataQuery","designQuery","propertyQuery","styleId"];function Nr(e,t,r,a,n){var o=t[r];t.hasOwnProperty(r)&&"RepeaterContainer"===o.type?y(a,r,o,!0):a.hasOwnProperty(r)&&f(a,r,!0)}l.add("$object_runtime_6_5"),l.add("$filterBy_repeaters_20_4");var kr=v(1060),Yr=["document_data","component_properties","design_data"];l.add("$object_rmi_19_3");var Fr=v(1061),qr=["config"];l.add("$object_rmi_93_2");var Lr=v(1062),Wr=[];l.add("$object_rmi_152_1");var Ur=v(1063),Gr=0;l.add("$array_actionBehaviors_70_0");var Kr=!1;function Jr(){Kr||(l.has("runtimeActionBehaviors")&&function(){var t=[l,"runtimeActionBehaviors"],a=e.runtime.behaviors;y(r,"runtimeActionBehaviors",a,!0),l.delete("runtimeActionBehaviors"),V(t,[e,"runtime","behaviors"]),r.runtimeActionBehaviors}(),l.has("data")&&function(){var t=[l,"data"],a=e.data;y(r,"data",a,!0),l.delete("data"),V(t,[e,"data"]),r.data}(),l.has("$object_rmi_19_3")&&function(){var e=q(l,"$object_rmi_19_3",{document_data:"dataChange",component_properties:"propsChange",design_data:"designChange"},kr,Yr,!1);y(r,"$object_rmi_19_3",e,!1),l.delete("$object_rmi_19_3"),r.$object_rmi_19_3}(),l.has("runtime")&&function(){var t=[l,"runtime"],a=R(r,"runtime",Z,e.runtime,null);y(r,"runtime",a,!1),l.delete("runtime"),V(t,[e,"runtime"]),r.runtime}(),l.has("$object_runtime_6_5")&&function(){var e=q(l,"$object_runtime_6_5",{behaviorQuery:"behaviors_data",connectionQuery:"connections_data",dataQuery:"document_data",designQuery:"design_data",propertyQuery:"component_properties",styleId:"theme_data"},xr,Hr,!1);y(r,"$object_runtime_6_5",e,!1),l.delete("$object_runtime_6_5"),r.$object_runtime_6_5}(),l.has("$object_rmi_152_1")&&function(){var e=q(l,"$object_rmi_152_1",{},Lr,Wr,!1);y(r,"$object_rmi_152_1",e,!1),l.delete("$object_rmi_152_1"),r.$object_rmi_152_1}(),l.has("$object_rmi_93_2")&&function(){var e=q(l,"$object_rmi_93_2",{config:null},Fr,qr,!1);y(r,"$object_rmi_93_2",e,!1),l.delete("$object_rmi_93_2"),r.$object_rmi_93_2}(),l.has("$array_actionBehaviors_70_0")&&function(){var e=F(l,"$array_actionBehaviors_70_0",[],Ur,Gr,!1);y(r,"$array_actionBehaviors_70_0",e,!1),l.delete("$array_actionBehaviors_70_0"),r.$array_actionBehaviors_70_0}(),l.has("$mapValues_actionBehaviors_27_7")&&function(){var e="$mapValues_actionBehaviors_27_7",a=[l,e],n=R(r,e,Cr,t.groupByCompId(r.runtimeActionBehaviors),null);y(r,"$mapValues_actionBehaviors_27_7",n,!0),l.delete("$mapValues_actionBehaviors_27_7"),V(a,[r,"runtimeActionBehaviors"]),r.$mapValues_actionBehaviors_27_7}(),l.has("$mapValues_actionBehaviors_18_8")&&function(){var e="$mapValues_actionBehaviors_18_8",a=[l,e],n=R(r,e,Tr,t.groupByCompId(r.runtimeActionBehaviors),null);y(r,"$mapValues_actionBehaviors_18_8",n,!0),l.delete("$mapValues_actionBehaviors_18_8"),V(a,[r,"runtimeActionBehaviors"]),r.$mapValues_actionBehaviors_18_8}(),l.has("$mapValues_runtime_23_6")&&function(){var t="$mapValues_runtime_23_6",a=[l,t],n=R(r,t,Dr,e.runtime.data,null);y(r,"$mapValues_runtime_23_6",n,!0),l.delete("$mapValues_runtime_23_6"),V(a,[e,"runtime","data"]),r.$mapValues_runtime_23_6}(),l.has("$recursiveMapValues_repeaters_7_10")&&function(){var t="$recursiveMapValues_repeaters_7_10",a=[l,t],n=A(r,t,Vr,e.structure,null);y(r,"$recursiveMapValues_repeaters_7_10",n,!0),l.delete("$recursiveMapValues_repeaters_7_10"),V(a,[e,"structure"]),r.$recursiveMapValues_repeaters_7_10}(),l.has("$filterBy_repeaters_20_4")&&function(){var t="$filterBy_repeaters_20_4",a=[l,t],n=R(r,t,Nr,e.structure,null);y(r,"$filterBy_repeaters_20_4",n,!0),l.delete("$filterBy_repeaters_20_4"),V(a,[e,"structure"]),r.$filterBy_repeaters_20_4}(),l.has("$filterBy_repeaters_19_12")&&function(){var t="$filterBy_repeaters_19_12",a=[l,t],n=R(r,t,yr,e.structure,null);y(r,"$filterBy_repeaters_19_12",n,!0),l.delete("$filterBy_repeaters_19_12"),V(a,[e,"structure"]),r.$filterBy_repeaters_19_12}(),l.has("$mapValues_runtime_9_9")&&function(){var t="$mapValues_runtime_9_9",a=[l,t],n=R(r,t,wr,e.runtime.data,null);y(r,"$mapValues_runtime_9_9",n,!0),l.delete("$mapValues_runtime_9_9"),V(a,[e,"runtime","data"]),r.$mapValues_runtime_9_9}(),l.has("$mapValues_runtime_17_11")&&function(){var e="$mapValues_runtime_17_11",t=[l,e],a=R(r,e,gr,r.data,null);y(r,"$mapValues_runtime_17_11",a,!0),l.delete("$mapValues_runtime_17_11"),V(t,[r,"data"]),r.$mapValues_runtime_17_11}(),l.has("$mapValues_dataResolving_25_13")&&function(){var e="$mapValues_dataResolving_25_13",t=[l,e],a=R(r,e,hr,r.$mapValues_runtime_17_11,null);y(r,"$mapValues_dataResolving_25_13",a,!0),l.delete("$mapValues_dataResolving_25_13"),V(t,[r,"$mapValues_runtime_17_11"]),r.$mapValues_dataResolving_25_13}(),l.has("resolved")&&function(){var e=[l,"resolved"],t=R(r,"resolved",Ce,r.$mapValues_dataResolving_25_13,null);y(r,"resolved",t,!1),l.delete("resolved"),V(e,[r,"$mapValues_dataResolving_25_13"]),r.resolved}(),l.has("$mapValues_repeaters_21_15")&&function(){var e="$mapValues_repeaters_21_15",t=[l,e],a=R(r,e,sr,r.$filterBy_repeaters_20_4,null);y(r,"$mapValues_repeaters_21_15",a,!0),l.delete("$mapValues_repeaters_21_15"),V(t,[r,"$filterBy_repeaters_20_4"]),r.$mapValues_repeaters_21_15}(),l.has("$mapValues_repeaters_24_16")&&function(){var e="$mapValues_repeaters_24_16",t=[l,e],a=R(r,e,ir,r.$mapValues_repeaters_21_15,null);y(r,"$mapValues_repeaters_24_16",a,!0),l.delete("$mapValues_repeaters_24_16"),V(t,[r,"$mapValues_repeaters_21_15"]),r.$mapValues_repeaters_24_16}(),l.has("$mapValues_repeaters_25_18")&&function(){var e="$mapValues_repeaters_25_18",t=[l,e],a=R(r,e,nr,r.$filterBy_repeaters_20_4,null);y(r,"$mapValues_repeaters_25_18",a,!0),l.delete("$mapValues_repeaters_25_18"),V(t,[r,"$filterBy_repeaters_20_4"]),r.$mapValues_repeaters_25_18}(),l.has("$mapValues_repeaters_47_17")&&function(){var e="$mapValues_repeaters_47_17",t=[l,e],a=R(r,e,or,r.$filterBy_repeaters_19_12,null);y(r,"$mapValues_repeaters_47_17",a,!0),l.delete("$mapValues_repeaters_47_17"),V(t,[r,"$filterBy_repeaters_19_12"]),r.$mapValues_repeaters_47_17}(),l.has("$mapValues_repeaters_48_19")&&function(){var e="$mapValues_repeaters_48_19",t=[l,e],a=R(r,e,er,r.$mapValues_repeaters_47_17,null);y(r,"$mapValues_repeaters_48_19",a,!0),l.delete("$mapValues_repeaters_48_19"),V(t,[r,"$mapValues_repeaters_47_17"]),r.$mapValues_repeaters_48_19}(),l.has("$mapValues_repeaters_72_20")&&function(){var e="$mapValues_repeaters_72_20",t=[l,e],a=R(r,e,Kt,r.$mapValues_repeaters_48_19,null);y(r,"$mapValues_repeaters_72_20",a,!0),l.delete("$mapValues_repeaters_72_20"),V(t,[r,"$mapValues_repeaters_48_19"]),r.$mapValues_repeaters_72_20}(),l.has("$mapValues_repeaters_75_24")&&function(){var e="$mapValues_repeaters_75_24",t=[l,e],a=R(r,e,Wt,r.$mapValues_repeaters_72_20,null);y(r,"$mapValues_repeaters_75_24",a,!0),l.delete("$mapValues_repeaters_75_24"),V(t,[r,"$mapValues_repeaters_72_20"]),r.$mapValues_repeaters_75_24}(),l.has("$values_repeaters_75_25")&&function(){var e="$values_repeaters_75_25",t=[l,e],a=N(r,e,v(815),r.$mapValues_repeaters_75_24,!0);y(r,"$values_repeaters_75_25",a,!0),l.delete("$values_repeaters_75_25"),V(t,[r,"$mapValues_repeaters_75_24"]),r.$values_repeaters_75_25}(),l.has("$assign_repeaters_75_26")&&function(){var e="$assign_repeaters_75_26",t=[l,e],a=L(r,e,v(813),r.$values_repeaters_75_25,!0,!0);y(r,"$assign_repeaters_75_26",a,!0),l.delete("$assign_repeaters_75_26"),V(t,[r,"$values_repeaters_75_25"]),r.$assign_repeaters_75_26}(),l.has("$mapValues_repeaters_74_23")&&function(){var e="$mapValues_repeaters_74_23",t=[l,e],a=R(r,e,Ut,r.$mapValues_repeaters_72_20,null);y(r,"$mapValues_repeaters_74_23",a,!0),l.delete("$mapValues_repeaters_74_23"),V(t,[r,"$mapValues_repeaters_72_20"]),r.$mapValues_repeaters_74_23}(),l.has("$values_repeaters_73_21")&&function(){var e="$values_repeaters_73_21",t=[l,e],a=N(r,e,v(830),r.$mapValues_repeaters_72_20,!0);y(r,"$values_repeaters_73_21",a,!0),l.delete("$values_repeaters_73_21"),V(t,[r,"$mapValues_repeaters_72_20"]),r.$values_repeaters_73_21}(),l.has("$assign_repeaters_73_22")&&function(){var e="$assign_repeaters_73_22",t=[l,e],a=L(r,e,v(828),r.$values_repeaters_73_21,!0,!0);y(r,"$assign_repeaters_73_22",a,!0),l.delete("$assign_repeaters_73_22"),V(t,[r,"$values_repeaters_73_21"]),r.$assign_repeaters_73_22}(),l.has("$array_repeaters_73_27")&&function(){var t="$array_repeaters_73_27",a=[l,t],n=F(l,t,[e.structure,r.$mapValues_repeaters_25_18,r.$assign_repeaters_73_22],Ft,qt,!0);y(r,"$array_repeaters_73_27",n,!0),l.delete("$array_repeaters_73_27"),V(a,[e,"structure"]),V(a,[r,"$mapValues_repeaters_25_18"]),V(a,[r,"$assign_repeaters_73_22"]),r.$array_repeaters_73_27}(),l.has("$assign_repeaters_73_28")&&function(){var e="$assign_repeaters_73_28",t=[l,e],a=L(r,e,v(807),r.$array_repeaters_73_27,!0,!0);y(r,"$assign_repeaters_73_28",a,!0),l.delete("$assign_repeaters_73_28"),V(t,[r,"$array_repeaters_73_27"]),r.$assign_repeaters_73_28}(),l.has("$mapValues_modes_75_29")&&function(){var e="$mapValues_modes_75_29",t=[l,e],a=R(r,e,Yt,r.$assign_repeaters_73_28,null);y(r,"$mapValues_modes_75_29",a,!0),l.delete("$mapValues_modes_75_29"),V(t,[r,"$assign_repeaters_73_28"]),r.$mapValues_modes_75_29}(),l.has("$mapValues_modes_76_30")&&function(){var e="$mapValues_modes_76_30",t=[l,e],a=R(r,e,Nt,r.$mapValues_modes_75_29,null);y(r,"$mapValues_modes_76_30",a,!0),l.delete("$mapValues_modes_76_30"),V(t,[r,"$mapValues_modes_75_29"]),r.$mapValues_modes_76_30}(),l.has("$values_modes_79_31")&&function(){var e="$values_modes_79_31",t=[l,e],a=N(r,e,v(784),r.$mapValues_modes_76_30,!0);y(r,"$values_modes_79_31",a,!0),l.delete("$values_modes_79_31"),V(t,[r,"$mapValues_modes_76_30"]),r.$values_modes_79_31}(),l.has("$assign_modes_80_32")&&function(){var e="$assign_modes_80_32",t=[l,e],a=L(r,e,v(782),r.$values_modes_79_31,!0,!0);y(r,"$assign_modes_80_32",a,!0),l.delete("$assign_modes_80_32"),V(t,[r,"$values_modes_79_31"]),r.$assign_modes_80_32}(),l.has("$array_modelBuilder_28_33")&&function(){var t="$array_modelBuilder_28_33",a=[l,t],n=F(l,t,[r.$assign_modes_80_32,e.activeModes],Dt,xt,!0);y(r,"$array_modelBuilder_28_33",n,!0),l.delete("$array_modelBuilder_28_33"),V(a,[r,"$assign_modes_80_32"]),V(a,[e,"activeModes"]),r.$array_modelBuilder_28_33}(),l.has("activeModes")&&function(){var e="activeModes",t=[l,e],a=L(r,e,v(466),r.$array_modelBuilder_28_33,!0,!0);y(r,"activeModes",a,!0),l.delete("activeModes"),V(t,[r,"$array_modelBuilder_28_33"]),r.activeModes}(),l.has("$mapValues_modes_6_34")&&function(){var e="$mapValues_modes_6_34",t=[l,e],a=R(r,e,jt,r.$assign_repeaters_73_28,null);y(r,"$mapValues_modes_6_34",a,!0),l.delete("$mapValues_modes_6_34"),V(t,[r,"$assign_repeaters_73_28"]),r.$mapValues_modes_6_34}(),l.has("$mapValues_modes_20_35")&&function(){var e="$mapValues_modes_20_35",t=[l,e],a=R(r,e,Mt,r.$mapValues_modes_6_34,null);y(r,"$mapValues_modes_20_35",a,!0),l.delete("$mapValues_modes_20_35"),V(t,[r,"$mapValues_modes_6_34"]),r.$mapValues_modes_20_35}(),l.has("$mapValues_modes_62_36")&&function(){var e="$mapValues_modes_62_36",t=[l,e],a=R(r,e,Et,r.$assign_repeaters_73_28,null);y(r,"$mapValues_modes_62_36",a,!0),l.delete("$mapValues_modes_62_36"),V(t,[r,"$assign_repeaters_73_28"]),r.$mapValues_modes_62_36}(),l.has("$mapValues_runtime_29_37")&&function(){var e="$mapValues_runtime_29_37",t=[l,e],a=R(r,e,Ot,r.$mapValues_modes_62_36,null);y(r,"$mapValues_runtime_29_37",a,!0),l.delete("$mapValues_runtime_29_37"),V(t,[r,"$mapValues_modes_62_36"]),r.$mapValues_runtime_29_37}(),l.has("structure")&&function(){var e=[l,"structure"],t=R(r,"structure",Me,r.$mapValues_runtime_29_37,null);y(r,"structure",t,!1),l.delete("structure"),V(e,[r,"$mapValues_runtime_29_37"]),r.structure}(),l.has("$mapValues_rmi_46_40")&&function(){var t="$mapValues_rmi_46_40",a=[l,t],n=R(r,t,ft,e.contextsMap,null);y(r,"$mapValues_rmi_46_40",n,!0),l.delete("$mapValues_rmi_46_40"),V(a,[e,"contextsMap"]),r.$mapValues_rmi_46_40}(),l.has("$mapValues_rmi_46_39")&&function(){var t="$mapValues_rmi_46_39",a=[l,t],n=R(r,t,Pt,e.contextsMap,null);y(r,"$mapValues_rmi_46_39",n,!0),l.delete("$mapValues_rmi_46_39"),V(a,[e,"contextsMap"]),r.$mapValues_rmi_46_39}(),l.has("$mapValues_actionBehaviors_30_38")&&function(){var e="$mapValues_actionBehaviors_30_38",t=[l,e],a=R(r,e,bt,r.$mapValues_runtime_29_37,null);y(r,"$mapValues_actionBehaviors_30_38",a,!0),l.delete("$mapValues_actionBehaviors_30_38"),V(t,[r,"$mapValues_runtime_29_37"]),r.$mapValues_actionBehaviors_30_38}(),l.has("$mapValues_actionBehaviors_8_14")&&function(){var e="$mapValues_actionBehaviors_8_14",t=[l,e],a=R(r,e,ur,r.$mapValues_dataResolving_25_13.behaviors_data,null);y(r,"$mapValues_actionBehaviors_8_14",a,!0),l.delete("$mapValues_actionBehaviors_8_14"),V(t,[r,"$mapValues_dataResolving_25_13","behaviors_data"]),r.$mapValues_actionBehaviors_8_14}(),l.has("$mapValues_actionBehaviors_31_41")&&function(){var e="$mapValues_actionBehaviors_31_41",t=[l,e],a=R(r,e,mt,r.$mapValues_actionBehaviors_30_38,null);y(r,"$mapValues_actionBehaviors_31_41",a,!0),l.delete("$mapValues_actionBehaviors_31_41"),V(t,[r,"$mapValues_actionBehaviors_30_38"]),r.$mapValues_actionBehaviors_31_41}(),l.has("$filterBy_actionBehaviors_32_42")&&function(){var e="$filterBy_actionBehaviors_32_42",t=[l,e],a=R(r,e,dt,r.$mapValues_actionBehaviors_31_41,null);y(r,"$filterBy_actionBehaviors_32_42",a,!0),l.delete("$filterBy_actionBehaviors_32_42"),V(t,[r,"$mapValues_actionBehaviors_31_41"]),r.$filterBy_actionBehaviors_32_42}(),l.has("$mapValues_actionBehaviors_33_43")&&function(){var e="$mapValues_actionBehaviors_33_43",t=[l,e],a=R(r,e,lt,r.$filterBy_actionBehaviors_32_42,null);y(r,"$mapValues_actionBehaviors_33_43",a,!0),l.delete("$mapValues_actionBehaviors_33_43"),V(t,[r,"$filterBy_actionBehaviors_32_42"]),r.$mapValues_actionBehaviors_33_43}(),l.has("$filterBy_actionBehaviors_34_44")&&function(){var e="$filterBy_actionBehaviors_34_44",t=[l,e],a=R(r,e,ct,r.$mapValues_actionBehaviors_33_43,null);y(r,"$filterBy_actionBehaviors_34_44",a,!0),l.delete("$filterBy_actionBehaviors_34_44"),V(t,[r,"$mapValues_actionBehaviors_33_43"]),r.$filterBy_actionBehaviors_34_44}(),l.has("$mapValues_actionBehaviors_37_48")&&function(){var e="$mapValues_actionBehaviors_37_48",t=[l,e],a=R(r,e,nt,r.$filterBy_actionBehaviors_34_44,null);y(r,"$mapValues_actionBehaviors_37_48",a,!0),l.delete("$mapValues_actionBehaviors_37_48"),V(t,[r,"$filterBy_actionBehaviors_34_44"]),r.$mapValues_actionBehaviors_37_48}(),l.has("$array_actionBehaviors_63_51")&&function(){var e="$array_actionBehaviors_63_51",t=[l,e],a=F(l,e,[r.$mapValues_actionBehaviors_37_48,r.$mapValues_actionBehaviors_18_8],ze,Xe,!0);y(r,"$array_actionBehaviors_63_51",a,!0),l.delete("$array_actionBehaviors_63_51"),V(t,[r,"$mapValues_actionBehaviors_37_48"]),V(t,[r,"$mapValues_actionBehaviors_18_8"]),r.$array_actionBehaviors_63_51}(),l.has("actionBehaviorsAllEvents")&&function(){var e=[l,"actionBehaviorsAllEvents"],a=t.generateActionBehaviorsEvents(r.$array_actionBehaviors_63_51);y(r,"actionBehaviorsAllEvents",a,!1),l.delete("actionBehaviorsAllEvents"),V(e,[r,"$array_actionBehaviors_63_51"]),r.actionBehaviorsAllEvents}(),l.has("$mapValues_actionBehaviors_46_47")&&function(){var e="$mapValues_actionBehaviors_46_47",t=[l,e],a=R(r,e,st,r.$filterBy_actionBehaviors_34_44,null);y(r,"$mapValues_actionBehaviors_46_47",a,!0),l.delete("$mapValues_actionBehaviors_46_47"),V(t,[r,"$filterBy_actionBehaviors_34_44"]),r.$mapValues_actionBehaviors_46_47}(),l.has("$array_actionBehaviors_54_49")&&function(){var e="$array_actionBehaviors_54_49",t=[l,e],a=F(l,e,[r.$mapValues_actionBehaviors_27_7,r.$mapValues_actionBehaviors_46_47],Ze,et,!0);y(r,"$array_actionBehaviors_54_49",a,!0),l.delete("$array_actionBehaviors_54_49"),V(t,[r,"$mapValues_actionBehaviors_27_7"]),V(t,[r,"$mapValues_actionBehaviors_46_47"]),r.$array_actionBehaviors_54_49}(),l.has("$defaults_actionBehaviors_55_50")&&function(){var e="$defaults_actionBehaviors_55_50",t=[l,e],a=L(r,e,v(528),r.$array_actionBehaviors_54_49,!1,!0);y(r,"$defaults_actionBehaviors_55_50",a,!0),l.delete("$defaults_actionBehaviors_55_50"),V(t,[r,"$array_actionBehaviors_54_49"]),r.$defaults_actionBehaviors_55_50}(),l.has("$mapValues_actionBehaviors_56_53")&&function(){var e="$mapValues_actionBehaviors_56_53",t=[l,e],a=R(r,e,We,r.$defaults_actionBehaviors_55_50,null);y(r,"$mapValues_actionBehaviors_56_53",a,!0),l.delete("$mapValues_actionBehaviors_56_53"),V(t,[r,"$defaults_actionBehaviors_55_50"]),r.$mapValues_actionBehaviors_56_53}(),l.has("actionsForComponentWithRuntime")&&function(){var e="actionsForComponentWithRuntime",t=[l,e],a=R(r,e,G,r.$mapValues_actionBehaviors_56_53,null);y(r,"actionsForComponentWithRuntime",a,!1),l.delete("actionsForComponentWithRuntime"),V(t,[r,"$mapValues_actionBehaviors_56_53"]),r.actionsForComponentWithRuntime}(),l.has("$array_actionBehaviors_66_45")&&function(){var e="$array_actionBehaviors_66_45",a=[l,e],n=F(l,e,[t.groupByCompId(r.runtimeActionBehaviors),r.$filterBy_actionBehaviors_34_44],ut,_t,!0);y(r,"$array_actionBehaviors_66_45",n,!0),l.delete("$array_actionBehaviors_66_45"),V(a,[r,"runtimeActionBehaviors"]),V(a,[r,"$filterBy_actionBehaviors_34_44"]),r.$array_actionBehaviors_66_45}(),l.has("$defaults_actionBehaviors_67_46")&&function(){var e="$defaults_actionBehaviors_67_46",t=[l,e],a=L(r,e,v(555),r.$array_actionBehaviors_66_45,!1,!0);y(r,"$defaults_actionBehaviors_67_46",a,!0),l.delete("$defaults_actionBehaviors_67_46"),V(t,[r,"$array_actionBehaviors_66_45"]),r.$defaults_actionBehaviors_67_46}(),l.has("$mapValues_actionBehaviors_68_52")&&function(){var e="$mapValues_actionBehaviors_68_52",t=[l,e],a=R(r,e,Je,r.$defaults_actionBehaviors_67_46,null);y(r,"$mapValues_actionBehaviors_68_52",a,!0),l.delete("$mapValues_actionBehaviors_68_52"),V(t,[r,"$defaults_actionBehaviors_67_46"]),r.$mapValues_actionBehaviors_68_52}(),l.has("combinedActionBehaviorsForComponent")&&function(){var e="combinedActionBehaviorsForComponent",t=[l,e],a=R(r,e,W,r.$mapValues_actionBehaviors_68_52,null);y(r,"combinedActionBehaviorsForComponent",a,!0),l.delete("combinedActionBehaviorsForComponent"),V(t,[r,"$mapValues_actionBehaviors_68_52"]),r.combinedActionBehaviorsForComponent}(),l.has("RMI")&&function(){var t=[l,"RMI"],a=R(r,"RMI",Te,e.contextsMap,null);y(r,"RMI",a,!1),l.delete("RMI"),V(t,[e,"contextsMap"]),r.RMI}(),l.has("$mapValues_actionBehaviors_77_54")&&function(){var e="$mapValues_actionBehaviors_77_54",t=[l,e],a=R(r,e,He,r.combinedActionBehaviorsForComponent,null);y(r,"$mapValues_actionBehaviors_77_54",a,!0),l.delete("$mapValues_actionBehaviors_77_54"),V(t,[r,"combinedActionBehaviorsForComponent"]),r.$mapValues_actionBehaviors_77_54}(),l.has("combinedBehaviorsForComponentAction")&&function(){var e="combinedBehaviorsForComponentAction",t=[l,e],a=R(r,e,U,r.$mapValues_actionBehaviors_77_54,null);y(r,"combinedBehaviorsForComponentAction",a,!1),l.delete("combinedBehaviorsForComponentAction"),V(t,[r,"$mapValues_actionBehaviors_77_54"]),r.combinedBehaviorsForComponentAction}(),d=new WeakSet,o.forEach(function(e){return e()}))}return Object.assign(r,{setRuntime:function(t){P(e,"runtime",!0),d.add(e),void 0===t?delete e.runtime:e.runtime=t,Jr()},updateDataOverrides:function(t,r,a){P(e.runtime.data[t],r,!0),P(e.runtime.data,t,!0),P(e.runtime,"data",!0),P(e,"runtime",!0),d.add(e.runtime.data[t]),d.add(e.runtime.data),d.add(e.runtime),d.add(e),void 0===a?delete e.runtime.data[t][r]:e.runtime.data[t][r]=a,Jr()},updateContext:function(t,r){P(e.contextsMap,t,!0),P(e,"contextsMap",!0),d.add(e.contextsMap),d.add(e),void 0===r?delete e.contextsMap[t]:e.contextsMap[t]=r,Jr()},spliceRuntimeBehavior:function(t,r){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];for(var i,s=e.runtime.behaviors,u=s.length,_=r===n.length?t+r:Math.max(u,u+n.length-r),c=t;c<_;c++)P(s,c,!0);P(e.runtime.behaviors,t,!0),P(e.runtime,"behaviors",!0),P(e,"runtime",!0),d.add(e.runtime.behaviors),d.add(e.runtime),d.add(e),(i=e.runtime.behaviors).splice.apply(i,[t,r].concat(n)),Jr()},updateComponent:function(t,r){P(e.structure,t,!0),P(e,"structure",!0),d.add(e.structure),d.add(e),void 0===r?delete e.structure[t]:e.structure[t]=r,Jr()},updateComponentProperty:function(t,r,a){P(e.structure[t],r,!0),P(e.structure,t,!0),P(e,"structure",!0),d.add(e.structure[t]),d.add(e.structure),d.add(e),void 0===a?delete e.structure[t][r]:e.structure[t][r]=a,Jr()},updateDataItem:function(t,r,a){P(e.data[t],r,!0),P(e.data,t,!0),P(e,"data",!0),d.add(e.data[t]),d.add(e.data),d.add(e),void 0===a?delete e.data[t][r]:e.data[t][r]=a,Jr()},updateDataItemField:function(t,r,a){P(e.data.document_data[t],r,!0),P(e.data.document_data,t,!0),P(e.data,"document_data",!0),P(e,"data",!0),d.add(e.data.document_data[t]),d.add(e.data.document_data),d.add(e.data),d.add(e),void 0===a?delete e.data.document_data[t][r]:e.data.document_data[t][r]=a,Jr()},updateActiveModes:function(t,r){P(e.activeModes,t,!0),P(e,"activeModes",!0),d.add(e.activeModes),d.add(e),void 0===r?delete e.activeModes[t]:e.activeModes[t]=r,Jr()},spliceComponents:function(t,r,a){for(var n=arguments.length,o=Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];for(var s,u=e.structure[t].components,_=u.length,c=a===o.length?r+a:Math.max(_,_+o.length-a),p=r;p<c;p++)P(u,p,!0);P(e.structure[t].components,r,!0),P(e.structure[t],"components",!0),P(e.structure,t,!0),P(e,"structure",!0),d.add(e.structure[t].components),d.add(e.structure[t]),d.add(e.structure),d.add(e),(s=e.structure[t].components).splice.apply(s,[r,a].concat(o)),Jr()}},{$startBatch:function(){return Kr=!0},$endBatch:function(){Kr=!1,Jr()},$runInBatch:function(e){Kr=!0,e(),Kr=!1,Jr()},$addListener:function(e){o.add(e)},$removeListener:function(e){o.delete(e)}}),Jr(),r}},function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0),i=r(3),s=r(16),u=r(1),_=function(e,t){return e&&"ref"===e[t]};e.exports={create:function(e,t,r){return{isRef:function(e,r,a){return o.isString(e)&&_(t[a],r)},isRefList:function(e,r,a){return o.isArray(e)&&_(t[a],r)},removeHash:function(e){return e.replace("#","")},isRuntimeId:function(e){return i.isRuntimeId(e)},getRuntimeId:function(e,t){return i.getRuntimeId(e,t)},getCompIdFromRuntimeId:function(e){return i.getCompId(e)},getQueryIdFromRuntimeId:function(e){return i.getQueryId(e)},groupByCompId:function(e){return o.groupBy(e,"compId")},parseJSON:function(e){return JSON.parse(e)},updateRuntimeActionsMobxData:function(e,t){return t&&r&&r.runtimeComponentActions.set(t,o.clone(e)),e},updateMobxData:r?function(e,t,a){return r.data[a].set(t,o.clone(e)),e}:o.identity,updateOnRuntimeCompDataChange:function(t,r,a){return e.emit(u.EVENTS.COMP_DATA_RUNTIME_CHANGE,r,a),t},generateActionBehaviorsEvents:function(e){var t=n(e,2),r=t[0],i=t[1];return o([r,i]).flatMap(function(e){return o.flatMap(e,function(e,t){return o.flatMap(e,function(e,r){return o.map(e,function(e){return a({compId:t,eventType:r},e.params)})})})}).groupBy("compId").value()},updateMobxStructure:r?function(e){var t=r.structure.get(e.id);return t?o.assign(t,e):r.structure.set(e.id,new s(e)),e}:o.identity}}}},function(e,t,r){"use strict";var a=r(0),n=r(4),o=r(1).pointers.components.PROPERTY_TYPES,i=new WeakMap;function s(e){Object.defineProperty(_.prototype,e,{get:function(){return i.get(this)[e].get()},set:function(t){var r=i.get(this);r[e]?r[e].set(t):r[e]=n.observable.shallowBox(t,"StructureNode."+this.id+"."+e)},enumerable:!0})}function u(e){Object.defineProperty(_.prototype,e,{get:function(){return i.get(this)[e].get()},set:function(t){var r=i.get(this);if(r[e]){var o=r[e];a.isEqual(o.get(),t)||o.set(a.clone(t))}else r[e]=n.observable.shallowBox(a.clone(t),"StructureNode."+this.id+"."+e)},enumerable:!0})}function _(e){var t=this;this.id=e.id,i.set(this,{}),a.forOwn(e,function(e,r){t[r]=e})}s(o.DATA_QUERY),s(o.PROPERTY_QUERY),s(o.DESIGN_QUERY),s(o.BEHAVIOR_QUERY),s(o.CONNECTION_QUERY),s(o.COMPONENT_TYPE),s(o.SKIN),s(o.STYLE_ID),s(o.PARENT),u(o.LAYOUT),u(o.MODES),function(e){Object.defineProperty(_.prototype,e,{get:function(){return i.get(this)[e]},set:function(t){var r=i.get(this);if(r[e]){if(t){var o=r[e];a.isEqual(o.slice(),t)||o.replace(a.clone(t))}}else r[e]=n.observable.shallowArray(a.clone(t),"StructureNode."+this.id+"."+e)},enumerable:!0})}(o.COMPONENTS),Object.defineProperty(_.prototype,"isStructureNode",{enumerable:!1,value:!0}),e.exports=_},,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(0),n=r(4);e.exports={getStorage:function(){var e=n.observable.shallowMap();return{transaction:n.runInAction,set:function(t,r){e.set(t,r)},update:function(t,r){var n=e.get(t),o=a.defaults(r,n);return e.set(t,o),o},get:function(t){return e.get(t)},remove:function(t){return e.delete(t)},getAll:function(){return n.toJS(e)},clear:function(){e.clear()}}}}},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var n=r(0),o=r(7),i=r(6),s=r(91),u=r(10),_=r(51),c=r(98),p=new WeakMap;var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.aspects.componentsModelAspect||new u(e.componentsModel,e.eventsManager),o=new _(a,{getHandlers:r.getBehaviorsHandlers.bind(r),eventsManager:e.eventsManager});return p.set(r,{componentsModelAspect:a,behaviorsAspect:o,aspects:n.defaults({componentsModelAspect:a,behaviorsAspect:o},e.aspects),fetchSantaType:function(e,t,r){var a=p.get(this).aspects;return(this.props.getSantaFetcher(e)||n(a).invokeMap("getFetcher",e).find(Boolean)||c.getFetcher(e))(t,r)}.bind(r)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"getBehaviorsHandlers",value:function(){return this.props.behaviorsHandlers}},{key:"render",value:function(){return o.createElement(o.Fragment,null,n.map(this.props.rootCompsIds,function(e){return o.createElement(s,{id:e,key:e})}))}},{key:"getChildContext",value:function(){var e=p.get(this),t=e.componentsModelAspect,r=e.fetchSantaType,a=e.aspects;return{rootId:this.props.id,componentsModelAspect:t,fetchSantaType:r,getAspect:function(e){return a[e]},getCompClass:this.props.getCompClass,onRenderStart:function(){},onRenderEnd:function(){},onRenderError:function(){},registerComponent:function(){}}}}]),t}();l.defaultProps={getSantaFetcher:n.noop,aspects:{},behaviorsHandlers:{},noWrapper:!1},l.displayName="Renderer",l.propTypes={behaviorsHandlers:i.object,noWrapper:i.bool,eventsManager:i.shape({on:i.func.isRequired,off:i.func.isRequired,emit:i.func.isRequired}).isRequired,componentsModel:i.shape({structure:i.object.isRequired,data:i.object.isRequired}),getCompClass:i.func.isRequired,getSantaFetcher:i.func,aspects:i.object,rootCompsIds:i.arrayOf(i.string.isRequired),id:i.string},l.childContextTypes={getCompClass:i.func.isRequired,fetchSantaType:i.func.isRequired,getAspect:i.func.isRequired,onRenderStart:i.func.isRequired,onRenderEnd:i.func.isRequired,onRenderError:i.func.isRequired,registerComponent:i.func.isRequired,componentsModelAspect:i.shape({pointers:i.object.isRequired,displayedDAL:i.object.isRequired}).isRequired,rootId:i.string},e.exports=l},function(e,t){e.exports=n},function(e,t,r){"use strict";var a=r(0),n=a.memoize(function(e){return a.pickBy(e,function(e){return e.id||e.fetch})});e.exports={createCompProps:function(e,t,r){var o=function(e){return{fetchSantaType:e.fetchSantaType}}(e);return t?a(t).thru(n).mapValues(function(t){return e.fetchSantaType(t,o,r)}).defaults(r).value():a.clone(r)}}},function(e,t,r){"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var n=r(96),o=r(97),i=r(1),s=new WeakMap,u=function(){function e(t,r){var a=this,o=r.getHandlers,u=r.eventsManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var _=t.mobxModel;u.on(i.EVENTS.REGISTER_COMPONENT,function(e){return a.registerComponentEvent(e)}),this.getFetcher=n({storage:_.runtimeComponentActions,behaviorsAspect:this}),s.set(this,{getHandlers:o,$model:t.carmiModel,mobxModel:_})}return a(e,[{key:"registerComponentEvent",value:function(e){var t=e.compId,r=e.newEventData,a={type:"comp",name:r.eventType,sourceId:t},n={name:"runCode",type:"widget",targetId:r.contextId,params:{callbackId:r.callbackId,compId:t}},o=s.get(this).$model;o.spliceRuntimeBehavior(o.runtimeActionBehaviors.length,0,{action:a,behavior:n,compId:t})}},{key:"_getBehaviorsForAction",value:function(e){var t=s.get(this).$model;return o({action:e,$model:t})}},{key:"handleAction",value:function(e,t,r){var a=this._getBehaviorsForAction(t);if(0===a.length)return 0;var n=s.get(this).getHandlers(),o=0;return a.forEach(function(a){var i=n[a.type];i?"function"==typeof i?(o++,n[a.type](a,{action:t,componentId:e},r)):console.warn("Provided handler for '"+a.type+"' is not a function. Aborting!"):console.warn("There is no handler defined for type '"+a.type+"'. Nothing to do here!")}),o}}]),e}();e.exports=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(29),n=r(48),o=r(99),i=r(10),s=r(51);e.exports={utils:{storageAPI:a,ComponentsModelAspect:i,BehaviorsAspect:s},Renderer:n,IsolatedRenderer:o}},function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(0),o=r(7),i=r(6),s=r(92),u=r(93),_=r(1).pointers.components.PROPERTY_TYPES,c=function e(t,r){var i=r.componentsModelAspect,c=t.id,p=i.getStructureProperty(c,_.TYPE);return o.createElement(o.Fragment,null,o.createElement(s,a({id:c,key:"comp"},t),"Component"===p?n.noop:function(){return n.map(i.getStructureProperty(c,_.COMPONENTS),function(t){return o.createElement(e,{id:t,key:t})})}),o.createElement(u,{id:c,key:"style"}))};c.propTypes={id:i.string.isRequired},c.contextTypes={componentsModelAspect:i.shape({getStructureProperty:i.func.isRequired,pointers:i.object.isRequired,displayedDAL:i.object.isRequired}).isRequired},e.exports=c},function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var o=r(0),i=r(7),s=r(6),u=r(49).observer,_=r(50).createCompProps,c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return r.onRenderStart(e.id),a.registerComponent=function(e){a.context.registerComponent(a.props.id,e)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"componentDidCatch",value:function(e){this.context.onRenderError(this.props.id,e)}},{key:"componentDidMount",value:function(){this.isReactClass||this.registerComponent(this),this.context.onRenderEnd(this.props.id)}},{key:"UNSAFE_componentWillUpdate",value:function(){this.context.onRenderStart(this.props.id)}},{key:"componentDidUpdate",value:function(){this.context.onRenderEnd(this.props.id)}},{key:"componentWillUnmount",value:function(){this.isReactClass||this.registerComponent(null)}},{key:"render",value:function(){var e=this.context.componentsModelAspect.getStructureProperty(this.props.id,"componentType"),t=this.context.getCompClass(e);if(!t)return i.createElement("div",{id:this.props.id,"data-dead-comp":!0});var r=_({fetchSantaType:this.context.fetchSantaType},t.propTypes,this.props);return this.isReactClass=this.isReactClass||o.hasIn(t,"prototype.isReactComponent"),this.isReactClass?i.createElement(t,a({ref:this.registerComponent},r),this.props.children()):i.createElement(t,r,this.props.children())}}]),t}();c.displayName="PropsResolver",c.defaultProps={children:o.noop},c.propTypes={id:s.string.isRequired,children:s.func},c.contextTypes={getCompClass:s.func.isRequired,fetchSantaType:s.func.isRequired,getAspect:s.func.isRequired,onRenderStart:s.func.isRequired,onRenderEnd:s.func.isRequired,onRenderError:s.func.isRequired,registerComponent:s.func.isRequired,componentsModelAspect:s.shape({pointers:s.object.isRequired,displayedDAL:s.object.isRequired}).isRequired},e.exports=u(c)},function(e,t,r){"use strict";var a=r(0),n=r(7),o=r(6),i=r(49).observer,s=r(94).generateStyleNodeProps,u=r(50).createCompProps,_=r(95).loadFonts,c=function(e,t){var r=t.componentsModelAspect,o=t.getCompClass,i=t.rootId,c=t.getAspect,p=t.fetchSantaType,l=e.id,d=r.displayedDAL,m=r.pointers,v=m.components.getComponent(l),h=d.get(m.components.getProperty(v,"styleId")),y=o(d.get(m.components.getProperty(v,"componentType")));if(!y||!y.getCompCss)return null;var f=u({fetchSantaType:p},y.getCompCss.cssTypes,e),$=y.getCompCss(h,f),g=y.getCompFonts&&c("fontsLoaderAspect");if(g){var V=u({fetchSantaType:p},y.getCompFonts.fontsTypes,e),P=y.getCompFonts(a.keys($),V);_(g,P)}return a.map($,function(e,t){return n.createElement("style",s(t,e,i))})};c.displayName="ComponentStyleNode",c.propTypes={id:o.string.isRequired},c.contextTypes={getCompClass:o.func.isRequired,componentsModelAspect:o.shape({pointers:o.object.isRequired,displayedDAL:o.object.isRequired}).isRequired,rootId:o.string,getAspect:o.func,fetchSantaType:o.func},e.exports=i(c)},function(e,t,r){"use strict";var a=r(0);e.exports={generateStyleNodeProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2];return{key:e,type:"text/css","data-styleid":e,dangerouslySetInnerHTML:{__html:r?function(e,t){return a.map(t.trim().split("\n"),function(t){var r=t.split("{"),n=r[0].split(",");return r[0]=a.map(n,function(t){return"#"+e+" "+t}),r.join("{")}).join("\n")}(r,t):t}}}}},function(e,t,r){"use strict";var a=r(0);e.exports={loadFonts:function(e,t){var r=e.filterHandledFonts&&e.filterHandledFonts(t);a.isEmpty(r)||e.loadFonts(r)}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.storage,r=e.behaviorsAspect,a={"Component.compActions":function(e,r){return t.get(r.id)||{}},"Component.compDynamicBehaviorsClearAfterFlush":function(){},"Behaviors.handleAction":function(e,t){var a=t.id;return function(e,t){return r.handleAction(a,e,t)}}};return function(e){var t=e.id;return a[t]}}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e){var t=e.action,r=e.$model;return a.get(r.combinedBehaviorsForComponentAction,[t.sourceId,t.name],[])}},function(e,t,r){"use strict";var a=r(0),n={Component:{compBehaviors:[],shouldHideAnimatable:!1,rootId:null,currentUrlPageId:null,scale:1},Utils:{logger:{error:console.error},logging:{performance:{now:a.now}}},siteWidth:980,Layout:{registerLayoutFunc:a.noop,registerReLayoutPending:a.noop,reLayoutIfPending:a.noop},isExperimentOpen:a.constant(!1),Animations:{animationProperties:{}},isMobileView:!1,Device:{isTouchDevice:!1,isMobileDevice:!1},isDebugMode:!1,isQAMode:!1,hideComponentsListForQa:"",RenderFlags:{componentPreviewState:""},Modes:{activateModeById:a.noop,deactivateModeById:a.noop,switchModesByIds:a.noop},ServiceTopology:{scriptsLocationMap:{}},setCustomClickOccurred:a.noop,SiteButton:{link:null,impliedLink:null}};e.exports={getFetcher:function(e){if(!a.has(n,e.id))return console.warn(e.id+" is not defined"),function(){return null};var t=a.get(n,e.id);return function(){return t}}}},function(e,t,r){"use strict";var a=r(0),n=r(7),o=r(6),i=r(48),s=a(i.propTypes).keys().without("id").value(),u=function(e){var t=a.omit(e,s);return n.createElement("div",t,n.createElement(i,e))};u.propTypes=a.defaults({id:o.string.isRequired},i.propTypes),e.exports=u}])});
//# sourceMappingURL=santa-renderer.js.map